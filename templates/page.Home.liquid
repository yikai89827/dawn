{%- liquid
  assign featured_collection = collections.featured | default: collections.all
  assign featured_products = featured_collection.products | where: 'available', true
-%}

{% style %}
  .tsuki-header {
    background: url('{{ 'main.png' | asset_url }}') no-repeat center;
    background-size: cover;
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: #fff;
    position: relative;
  }
  .tsuki-header::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
  }
  .tsuki-header-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
  }
{% endstyle %}

<div class="page-width">
  <!-- 高端品牌展示区 -->
  <header class="tsuki-header">
    <div class="tsuki-header-content">
      {% comment %} <h1 class="h0">{{ section.settings.title | default: 'Elegance Redefined' }}</h1> {% endcomment %}
      {% comment %}
        <p class="h3">
          {{ section.settings.subtitle | default: 'Discover our exclusive collection of tsuki womens fashion' }}
        </p>
      {% endcomment %}
      <a href="{{ section.settings.button_link | default: '/pages/shop' }}" class="button button--primary">
        {{ section.settings.button_label | default: 'Shop Now' }}
      </a>
    </div>
  </header>

  <!-- 精选产品轮播 -->
  <div class="section-spacing">
    <div class="section-header text-center">
      <h2 class="h1">Featured Collection</h2>
    </div>
    <div class="slideshow grid grid--1-col grid--2-col-tablet grid--4-col-desktop">
      {% for product in featured_products limit: 8 %}
        <div class="slideshow__slide grid__item">
          {% render 'card-product',
            card_product: product,
            media_aspect_ratio: 'square',
            show_secondary_image: true,
            show_vendor: true,
            show_rating: true
          %}
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- 季节性系列展示 -->
  <div class="section-spacing" style="background: #f9f3f0;">
    <div class="section-header text-center">
      <h2 class="h1">Seasonal Collection</h2>
      <p>Discover our latest designs for the season</p>
    </div>
    <div class="grid grid--1-col grid--2-col-tablet grid--3-col-desktop">
      {% for collection in collections limit: 3 %}
        <div class="grid__item">
          {% render 'card-collection', card_collection: collection, media_aspect_ratio: 'square', columns: 3 %}
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- 品牌故事 -->
  <div class="section-spacing">
    <div class="image-with-text">
      <div class="image-with-text__grid grid grid--1-col grid--2-col-tablet">
        <div class="image-with-text__media-item grid__item">
          <div class="image-with-text__media" style="padding-bottom: 100%;">
            <img
              src="{{ 'main.png' | asset_url }}"
              alt="Brand Story"
              loading="lazy"
              width="500"
              height="500"
            >
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <h2 class="h1">Our Story</h2>
          <div class="rte">
            <p>
              Founded in Paris, our brand embodies timeless elegance and modern sophistication. Each piece is crafted
              with meticulous attention to detail, using only the finest materials.
            </p>
            <p>We believe in sustainable tsuki - creating beautiful garments that last beyond seasons.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 会员/订阅区域 -->
  <div class="section-spacing" style="background: #f5f5f5;">
    <div class="newsletter center">
      <div class="newsletter__wrapper">
        <h2 class="h1">Join Our World</h2>
        <p>Subscribe to receive exclusive offers and early access to new collections</p>
        {% form 'customer', class: 'newsletter-form' %}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="newsletter-form__field-wrapper">
            <div class="field">
              <input
                id="NewsletterForm--{{ section.id }}"
                type="email"
                name="contact[email]"
                class="field__input"
                value="{{ form.email }}"
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="email"
                placeholder="Your email address"
                required
              >
              <label class="field__label" for="NewsletterForm--{{ section.id }}"> Your email address </label>
            </div>
            <button type="submit" class="button button--primary" name="commit">Subscribe</button>
          </div>
        {% endform %}
      </div>
    </div>
  </div>
</div>
